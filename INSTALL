                    INSTALLATION PROCEDURES FOR JAVALIB
                    -----------------------------------

QUICKTAKE
=========

1. ./configure.sh
2. for any missing dependencies, 
      cd dependency && make && make install
3. ./configure.sh
4. make && make install

You may need superuser rights for the installation phases.


DETAILED INTRUCTIONS
====================

1.  Javalib makes extensive use of the findlib package manager and its
ocamlfind front-end, which provide seamless management of ocaml libraries. Make
sure you have an Objective Caml compiler installed, as well as the
findlib/ocamlfind tools.

2.  Javalib depends on three unrelated libraries: extlib, camlzip, and ptrees.
Some or all of these libraries might be provided as precompiled packages or
ports in your operating system. E.g., for extlib, one can use:

  - the 'libextlib-ocaml-dev' package in Ubuntu, 
  
  - the 'ocaml-extlib' package in Fedora or in Darwin Ports.

If your operating system provides none (or only part of) these libraries, fret
not: all three are included in the Javalib distribution, so all there is to do
is to compile and install them.

3.  First you need to configure the system. It is done automatically with the
command:

        ./configure.sh [options]

For a list of options accepted by the configuration script, run "./configure.sh
--help". The main options are:

  --local[=<dir>]
      Proceed to install in the local directory <dir>. If no such directory is
      given, then the installed files will go into a local './lib' folder.

  --debug=yes|no|prof                                           (default: yes)
      Set to yes to keep debugging information in native library or to prof to
      profile (with gprof) your program.

Note: The configure script assumes that, if the ptrees and camlzip
installations are local, then the Javalib install will also be local. What is
more, it assumes that all of them will reside in the same ./lib folder.

The configuration script generates a file called "Makefile.config". You are
welcome to review and edit it, but keep in mind it will be overwritten with
each execution of configure.sh.

4.  Step 3 will have stated which of the libraries camlzip, ptrees, or extlib
needed to be compiled and installed. For each of those required, run the
following commands:

        cd libraryname
        make
        make install (if configure was run with the --local option)
        sudo make install (else)

5.  Now we can check if the dependencies are correctly found---remember to run
the script with the same options as in step 3.

        ./configure.sh [options]

6.  We can now proceed to the  Javalib compilation. In the toplevel directory,
enter:

        make
        make install (if configure was run with the --local option)
        sudo make install (else)

7.  If you care for the documentation, run:

        make doc

8.  Finally, you can clean the sources with:

        make clean

